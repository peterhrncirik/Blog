{% extends 'blog/base.html' %}
{% load blog_tags %}
{% block title %}My Blog{% endblock %}
{% block content %}
    <div class="row">
        <div class="col">
            <h1 class="my-4">Blog ✍️</h1>
            <form action="">
                <input type="search" class="form-control text-dark" name="search" id="" placeholder="Search articles">
            </form>
        </div>
    </div>
    <div class="row my-5">


          <div class="row mb-4">
            <div class="col d-flex">
                {% for tag in tags %}
                <div>
                    <a href="{% url 'blog:post_list_by_tag' tag.slug %}" class="btn btn-outline-light btn-sm mx-2"><span class="text-info">#</span>{{ tag.name }}</a>
                </div>
                {% endfor %}
            </div>
          </div>

        <!-- {% if tag %}
        <h2>Posts tagged with {{ tag.name }}</h2>
        {% endif %} -->
        <div class="col">
            <h4 class="text-center">2022</h4>
            {% for post in posts %}
            <div class="col">
              <div class="card card-blog m-1">
                <div class="card-body">
                  {% for topic in post.topics.all %}
                  <span class="badge bg-secondary my-2">{{ topic }}</span>
                  {% endfor %}
                  <h5 class="card-title fw-semibold"><a href="{{ post.get_absolute_url }}" class="stretched-link" aria-current="true">{{ post.title }}</a></h5>
                  <p class="card-text text-muted">{{ post.body|truncatewords_html:10 }}</p>
                  {% comment %} <p class="card-text"><small class="text-muted">{{ post.created|date:'F j, Y' }}</small></p> {% endcomment %}
                </div>
              </div>
            </div>
            {% endfor %}

        </div>
    </div>
<!-- 
    {% if tag %}
        <h2>Posts tagged with "{{ tag.name }}"</h2>
    {% endif %}
    
    {% include 'pagination.html' with page=posts %} -->
{% endblock %}